# 빅데이터분석기사 작업형 3유형 - 정규성 검정 문제 생성 프롬프트

## 🚨🚨🚨 [최우선] 질문 형식 - 반드시 Q1. Q2. Q3. 형식 사용! 🚨🚨🚨

```
## ❓ 질문

Q1. [질문] (출력: 소수점 X자리)
Q2. [질문] (출력: 소수점 X자리)
Q3. [질문] (출력: 소수점 X자리)
Q4. [질문] (출력: 예/아니오)
```

**⛔ 절대 금지:** **1)**, **2)** 형식 / "## 질문" (이모지 없이)
**✅ 반드시:** "## ❓ 질문" 헤더 / Q1. Q2. Q3. 형식 / (출력: ...) 명시

---

## 📋 문제 구조

```
# [제목]
## 시나리오
[2-3문장]
## 데이터 생성 코드
```python
[30-40행 리터럴 데이터]
```
## ❓ 질문
Q1. ... (출력: 소수점 X자리)
## 힌트
## 정답 코드
```

---

## ⚙️ 데이터 규칙

- ✅ 30-40행 (Shapiro-Wilk), 100-500행 (Anderson-Darling)
- ✅ **리터럴 값만 사용** (np.random 금지!)
- ✅ 변수명 한국어
- ✅ 연속형 변수 1개

**올바른 예시 (Shapiro-Wilk용):**
```python
import pandas as pd

df = pd.DataFrame({
    '제품ID': [f'P{i:03d}' for i in range(1, 31)],
    '무게_g': [500.2, 498.5, 501.3, 499.8, 502.1, 500.7, 498.9, 501.5, 499.3, 500.4,
               502.3, 498.2, 501.8, 500.1, 499.5, 501.2, 498.7, 500.9, 502.5, 499.1,
               501.6, 500.3, 498.4, 502.0, 499.7, 501.1, 500.6, 498.8, 501.9, 499.9]
})
```

---

## 📊 정규성 검정 2가지 유형

### 유형 1: Shapiro-Wilk 검정 (n < 5000)

**언제:** 샘플 크기가 작을 때 (보통 20~100개)

**귀무가설:** 데이터는 정규분포를 따른다
**대립가설:** 데이터는 정규분포를 따르지 않는다

**판단 기준:**
- p-value > 0.05 → 정규분포를 따른다
- p-value ≤ 0.05 → 정규분포를 따르지 않는다

**코드:**
```python
from scipy.stats import shapiro
stat, pval = shapiro(df['측정값'])
```

### 유형 2: Anderson-Darling 검정 (n ≥ 5000)

**언제:** 대용량 데이터 (보통 100개 이상)

**귀무가설:** 데이터는 정규분포를 따른다
**대립가설:** 데이터는 정규분포를 따르지 않는다

**판단 기준:**
- 검정 통계량 < 임계값 → 정규분포를 따른다
- 검정 통계량 ≥ 임계값 → 정규분포를 따르지 않는다

**코드:**
```python
from scipy.stats import anderson
result = anderson(df['측정값'])
# result.statistic: 검정 통계량
# result.critical_values[2]: 5% 유의수준 임계값 (인덱스 2)
# result.significance_level: [15, 10, 5, 2.5, 1]
```

---

## 💡 질문 구성 (Q1~Q5)

### Shapiro-Wilk 검정

```
## ❓ 질문

Q1. 측정값의 평균을 소수점 2자리까지 구하시오. (출력: 소수점 2자리)
Q2. 측정값의 표준편차를 소수점 2자리까지 구하시오. (출력: 소수점 2자리)
Q3. Shapiro-Wilk 검정 통계량을 소수점 4자리까지 구하시오. (출력: 소수점 4자리)
Q4. Shapiro-Wilk 검정의 p-value를 소수점 4자리까지 구하시오. (출력: 소수점 4자리)
Q5. 유의수준 0.05에서 측정값이 정규분포를 따른다고 할 수 있는지 판단하시오. (출력: "예" 또는 "아니오")
```

### Anderson-Darling 검정

```
## ❓ 질문

Q1. 측정값의 평균을 소수점 2자리까지 구하시오. (출력: 소수점 2자리)
Q2. 측정값의 중앙값을 소수점 2자리까지 구하시오. (출력: 소수점 2자리)
Q3. Anderson-Darling 검정 통계량을 소수점 4자리까지 구하시오. (출력: 소수점 4자리)
Q4. 유의수준 5%에 해당하는 임계값을 소수점 4자리까지 구하시오. (출력: 소수점 4자리)
Q5. 유의수준 0.05에서 측정값이 정규분포를 따른다고 할 수 있는지 판단하시오. (출력: "예" 또는 "아니오")
```

---

## 🎯 힌트 템플릿

```markdown
## 힌트

### 필요한 라이브러리
- pandas
- scipy.stats: shapiro (또는 anderson)

### 주요 함수
1. 기술통계: `.mean()`, `.std()`, `.median()`
2. Shapiro-Wilk: `shapiro(데이터)` → (stat, pval)
3. Anderson-Darling: `anderson(데이터)` → result.statistic, result.critical_values[2]

### 판단 기준
- Shapiro-Wilk: p > 0.05 → 정규분포 O
- Anderson-Darling: 통계량 < 임계값 → 정규분포 O

### 흔한 실수
❌ p-value 해석 오류 (p < 0.05일 때 정규분포를 따른다 ← 틀림)
❌ Anderson-Darling 임계값 인덱스 실수 (5% = critical_values[2])
```

---

## 📝 정답 코드 템플릿

### Shapiro-Wilk 예시

```python
import pandas as pd
from scipy.stats import shapiro

# 데이터 생성
df = pd.DataFrame({
    '제품ID': [f'P{i:03d}' for i in range(1, 31)],
    '무게_g': [500.2, 498.5, 501.3, 499.8, 502.1, 500.7, 498.9, 501.5, 499.3, 500.4,
               502.3, 498.2, 501.8, 500.1, 499.5, 501.2, 498.7, 500.9, 502.5, 499.1,
               501.6, 500.3, 498.4, 502.0, 499.7, 501.1, 500.6, 498.8, 501.9, 499.9]
})

무게 = df['무게_g']

# Q1: 평균
print(round(무게.mean(), 2))

# Q2: 표준편차
print(round(무게.std(), 2))

# Q3-Q4: Shapiro-Wilk 검정
stat, pval = shapiro(무게)
print(round(stat, 4))
print(round(pval, 4))

# Q5: 정규성 판단
print("예" if pval > 0.05 else "아니오")
```

### Anderson-Darling 예시

```python
import pandas as pd
from scipy.stats import anderson

# 데이터 생성 (100개 이상)
df = pd.DataFrame({
    '측정ID': [f'M{i:03d}' for i in range(1, 101)],
    '길이_mm': [50.1, 50.3, 49.8, 50.5, 50.2, 49.9, 50.4, 50.0, 50.3, 50.1,
                # ... 총 100개의 리터럴 값
                ]
})

길이 = df['길이_mm']

# Q1: 평균
print(round(길이.mean(), 2))

# Q2: 중앙값
print(round(길이.median(), 2))

# Q3-Q4: Anderson-Darling 검정
result = anderson(길이)
print(round(result.statistic, 4))
print(round(result.critical_values[2], 4))  # 5% 유의수준

# Q5: 정규성 판단
print("예" if result.statistic < result.critical_values[2] else "아니오")
```

---

## 🔍 시나리오 예시

### 품질관리
"한 제조업체에서 생산하는 부품의 무게가 정규분포를 따르는지 검증하기 위해 30개의 샘플을 무작위로 추출하여 무게를 측정했습니다."

### 임상시험
"신약의 효과를 분석하기 위해 환자들의 혈압 데이터를 수집했습니다. 통계 분석을 수행하기 전에 혈압 데이터가 정규분포를 따르는지 확인하고자 합니다."

### 교육평가
"한 학교에서 실시한 수학 시험의 점수 분포가 정규분포를 따르는지 검증하기 위해 40명 학생의 점수를 수집했습니다."

### 제조공정
"생산 라인에서 제조되는 전구의 수명 시간이 정규분포를 따르는지 확인하기 위해 50개의 전구를 테스트했습니다."

---

## ⚠️ 주의사항

### 반드시 지킬 것
1. ✅ 리터럴 데이터만 사용 (np.random, CSV 읽기 금지)
2. ✅ 변수명은 한국어
3. ✅ Shapiro-Wilk는 30-40개, Anderson-Darling은 100개 이상
4. ✅ "## ❓ 질문" 헤더 필수
5. ✅ Q1. Q2. Q3. 형식 사용

### 흔한 실수 방지
- ❌ **1)**, **2)** 형식 사용
- ❌ p-value 해석 반대로 (p < 0.05 = 정규성 만족 ← 틀림)
- ❌ Anderson-Darling 임계값 인덱스 오류
- ❌ 정규성 판단 후 적절한 후속 검정 언급 없음

---

## 🚀 문제 생성 지침

위 모든 규칙을 따라, 다음 순서로 문제를 생성하세요:

1. **# [제목]** - 간결한 제목
2. **## 시나리오** - 2-3문장의 현실적 상황
3. **## 데이터 생성 코드** - 리터럴 값으로만
4. **## ❓ 질문** - Q1. Q2. Q3. Q4. Q5. 형식
5. **## 힌트** - 라이브러리, 함수, 주의사항
6. **## 정답 코드** - 완전한 실행 가능 코드

지금 바로 문제를 생성하세요!
