# ë¹…ë°ì´í„°ë¶„ì„ê¸°ì‚¬ ì‘ì—…í˜• 3ìœ í˜• - ANOVA + TukeyHSD ë¬¸ì œ ìƒì„± í”„ë¡¬í”„íŠ¸

## ğŸš¨ğŸš¨ğŸš¨ [ìµœìš°ì„ ] ì§ˆë¬¸ í˜•ì‹ - ë°˜ë“œì‹œ ì´ í˜•ì‹ì„ ë”°ë¥´ì„¸ìš”! ğŸš¨ğŸš¨ğŸš¨

**ìƒì„±í•  ë¬¸ì œì˜ ì§ˆë¬¸ ì„¹ì…˜ì€ ë°˜ë“œì‹œ ë‹¤ìŒ í˜•ì‹ì´ì–´ì•¼ í•©ë‹ˆë‹¤:**

```
## â“ ì§ˆë¬¸

Q1. [ì²« ë²ˆì§¸ êµ¬ì²´ì ì¸ ì§ˆë¬¸] (ì¶œë ¥: ì†Œìˆ˜ì  Xìë¦¬)
Q2. [ë‘ ë²ˆì§¸ êµ¬ì²´ì ì¸ ì§ˆë¬¸] (ì¶œë ¥: ì†Œìˆ˜ì  Xìë¦¬)
Q3. [ì„¸ ë²ˆì§¸ êµ¬ì²´ì ì¸ ì§ˆë¬¸] (ì¶œë ¥: ì†Œìˆ˜ì  Xìë¦¬)
Q4. [ë„¤ ë²ˆì§¸ êµ¬ì²´ì ì¸ ì§ˆë¬¸] (ì¶œë ¥: ì˜ˆ/ì•„ë‹ˆì˜¤)
```

**â›” ì ˆëŒ€ ê¸ˆì§€:**
- âŒ **1)**, **2)**, **3)** í˜•ì‹ ì‚¬ìš© ê¸ˆì§€
- âŒ "## ì§ˆë¬¸" (ì´ëª¨ì§€ ì—†ì´) ì‚¬ìš© ê¸ˆì§€ â†’ ë°˜ë“œì‹œ "## â“ ì§ˆë¬¸"
- âŒ "ê²€ì •í•˜ì‹œì˜¤", "ë¶„ì„í•˜ì‹œì˜¤" ê°™ì€ ëª¨í˜¸í•œ í‘œí˜„
- âŒ ì¶œë ¥ í˜•ì‹ ëª…ì‹œ ì—†ì´ ì§ˆë¬¸ë§Œ ì‘ì„±

**âœ… ë°˜ë“œì‹œ í¬í•¨:**
- âœ… "## â“ ì§ˆë¬¸" í—¤ë” (ì´ëª¨ì§€ í¬í•¨)
- âœ… Q1. Q2. Q3. Q4. Q5. í˜•ì‹ (ìµœì†Œ 4ê°œ, ìµœëŒ€ 7ê°œ)
- âœ… ê° ì§ˆë¬¸ ëì— (ì¶œë ¥: ì†Œìˆ˜ì  Xìë¦¬) í˜•ì‹ ëª…ì‹œ
- âœ… í•œ ì¤„ì— í•˜ë‚˜ì˜ ì§ˆë¬¸

---

## ğŸ“‹ ë¬¸ì œ êµ¬ì¡° (ìˆœì„œ ì—„ìˆ˜)

```
# [ì œëª©]

## ì‹œë‚˜ë¦¬ì˜¤
[3ê·¸ë£¹ ì´ìƒì„ ë¹„êµí•˜ëŠ” í˜„ì‹¤ì  ìƒí™© 2-3ë¬¸ì¥]

## ë°ì´í„° ìƒì„± ì½”ë“œ
```python
[ê° ê·¸ë£¹ 10-15ê°œì”©, ì´ 30-45í–‰ì˜ ë¦¬í„°ëŸ´ ë°ì´í„°]
```

## â“ ì§ˆë¬¸

Q1. [ì§ˆë¬¸] (ì¶œë ¥: ì†Œìˆ˜ì  Xìë¦¬)
Q2. [ì§ˆë¬¸] (ì¶œë ¥: ì†Œìˆ˜ì  Xìë¦¬)
...

## íŒíŠ¸
[ë¼ì´ë¸ŒëŸ¬ë¦¬, í•¨ìˆ˜, ì£¼ì˜ì‚¬í•­]

## ì •ë‹µ ì½”ë“œ
```python
[ì™„ì „í•œ Python ì½”ë“œ]
```
```

---

## âš™ï¸ ë°ì´í„° ìƒì„± ê·œì¹™

### í•„ìˆ˜ ì¡°ê±´
- âœ… **3ê°œ ì´ìƒì˜ ê·¸ë£¹** (A, B, C ë˜ëŠ” ê·¸ ì´ìƒ)
- âœ… **ê° ê·¸ë£¹ë‹¹ 10-15ê°œ** ìƒ˜í”Œ (ì´ 30-45í–‰)
- âœ… ì™„ì „í•œ ë¦¬í„°ëŸ´ ê°’ (np.random ì‚¬ìš© ê¸ˆì§€)
- âœ… ë³€ìˆ˜ëª… í•œêµ­ì–´

### ì˜¬ë°”ë¥¸ ì˜ˆì‹œ
```python
import pandas as pd

df = pd.DataFrame({
    'ì§ì›ID': [f'E{i:03d}' for i in range(1, 40)],
    'ë¶€ì„œ': ['ì˜ì—…']*13 + ['ê¸°íš']*13 + ['ê°œë°œ']*13,
    'ì›”ê¸‰ì—¬': [285, 310, 295, 320, 300, 315, 290, 305, 325, 295, 310, 300, 315,
               310, 335, 320, 345, 325, 340, 315, 330, 350, 320, 335, 325, 340,
               330, 355, 340, 365, 345, 360, 335, 350, 370, 340, 355, 345, 360]
})
```

---

## ğŸ“Š ANOVA + TukeyHSD ë¶„ì„ ë‹¨ê³„

### 1ë‹¨ê³„: ì •ê·œì„± ê²€ì • (ê° ê·¸ë£¹ë³„)
```python
from scipy.stats import shapiro

ì˜ì—… = df[df['ë¶€ì„œ'] == 'ì˜ì—…']['ì›”ê¸‰ì—¬']
ê¸°íš = df[df['ë¶€ì„œ'] == 'ê¸°íš']['ì›”ê¸‰ì—¬']
ê°œë°œ = df[df['ë¶€ì„œ'] == 'ê°œë°œ']['ì›”ê¸‰ì—¬']

_, p_ì˜ì—… = shapiro(ì˜ì—…)
_, p_ê¸°íš = shapiro(ê¸°íš)
_, p_ê°œë°œ = shapiro(ê°œë°œ)
```

### 2ë‹¨ê³„: ê²€ì • ë°©ë²• ì„ íƒ
```
ëª¨ë“  ê·¸ë£¹ ì •ê·œì„± ë§Œì¡± (p > 0.05) â†’ f_oneway (ANOVA)
í•˜ë‚˜ë¼ë„ ë¶ˆë§Œì¡± (p â‰¤ 0.05) â†’ kruskal (Kruskal-Wallis)
```

### 3ë‹¨ê³„: ì¼ì›ë¶„ì‚°ë¶„ì„ ìˆ˜í–‰
```python
from scipy.stats import f_oneway, kruskal

if all([p_ì˜ì—… > 0.05, p_ê¸°íš > 0.05, p_ê°œë°œ > 0.05]):
    stat, pval = f_oneway(ì˜ì—…, ê¸°íš, ê°œë°œ)
else:
    stat, pval = kruskal(ì˜ì—…, ê¸°íš, ê°œë°œ)
```

### 4ë‹¨ê³„: TukeyHSD ì‚¬í›„ê²€ì • (ì •ê·œì„± ë§Œì¡± ì‹œë§Œ)
```python
from statsmodels.stats.multicomp import pairwise_tukeyhsd

# TukeyHSD ìˆ˜í–‰
tukey = pairwise_tukeyhsd(df['ì›”ê¸‰ì—¬'], df['ë¶€ì„œ'], alpha=0.05)

# DataFrameìœ¼ë¡œ ë³€í™˜ (ê¶Œì¥ ë°©ë²•)
tukey_df = pd.DataFrame(
    data=tukey.summary().data[1:],
    columns=tukey.summary().data[0]
)

# ê²°ê³¼ ì ‘ê·¼
# tukey_df['reject'] - Trueë©´ ìœ ì˜í•œ ì°¨ì´
# tukey_df['meandiff'] - í‰ê·  ì°¨ì´
# tukey_df['group1'], tukey_df['group2'] - ê·¸ë£¹ ìŒ
```

---

## ğŸ’¡ ì§ˆë¬¸ ì˜ˆì‹œ (Q1. Q2. í˜•ì‹ ë°˜ë“œì‹œ ì‚¬ìš©!)

```
## â“ ì§ˆë¬¸

Q1. 'ì˜ì—…' ë¶€ì„œì˜ ì›”ê¸‰ì—¬ í‰ê· ì„ ì†Œìˆ˜ì  2ìë¦¬ê¹Œì§€ êµ¬í•˜ì‹œì˜¤. (ì¶œë ¥: ì†Œìˆ˜ì  2ìë¦¬)
Q2. 'ê¸°íš' ë¶€ì„œì˜ ì›”ê¸‰ì—¬ í‘œì¤€í¸ì°¨ë¥¼ ì†Œìˆ˜ì  2ìë¦¬ê¹Œì§€ êµ¬í•˜ì‹œì˜¤. (ì¶œë ¥: ì†Œìˆ˜ì  2ìë¦¬)
Q3. 'ì˜ì—…' ë¶€ì„œì˜ Shapiro-Wilk ê²€ì • p-valueë¥¼ êµ¬í•˜ì‹œì˜¤. (ì¶œë ¥: ì†Œìˆ˜ì  4ìë¦¬)
Q4. 'ê¸°íš' ë¶€ì„œì˜ Shapiro-Wilk ê²€ì • p-valueë¥¼ êµ¬í•˜ì‹œì˜¤. (ì¶œë ¥: ì†Œìˆ˜ì  4ìë¦¬)
Q5. 'ê°œë°œ' ë¶€ì„œì˜ Shapiro-Wilk ê²€ì • p-valueë¥¼ êµ¬í•˜ì‹œì˜¤. (ì¶œë ¥: ì†Œìˆ˜ì  4ìë¦¬)
Q6. ì ì ˆí•œ ì¼ì›ë¶„ì‚°ë¶„ì„ì„ ìˆ˜í–‰í•˜ê³  ê²€ì •í†µê³„ëŸ‰ì„ êµ¬í•˜ì‹œì˜¤. (ì¶œë ¥: ì†Œìˆ˜ì  3ìë¦¬)
Q7. ì¼ì›ë¶„ì‚°ë¶„ì„ì˜ p-valueë¥¼ êµ¬í•˜ì‹œì˜¤. (ì¶œë ¥: ì†Œìˆ˜ì  4ìë¦¬)
Q8. ì •ê·œì„±ì„ ë§Œì¡±í•˜ëŠ” ê²½ìš° TukeyHSD ì‚¬í›„ê²€ì •ì„ ìˆ˜í–‰í•˜ê³ , 'ì˜ì—…'-'ê¸°íš' ê·¸ë£¹ ê°„ ìœ ì˜í•œ ì°¨ì´ê°€ ìˆëŠ”ì§€ íŒë‹¨í•˜ì‹œì˜¤. (ì¶œë ¥: "ìˆë‹¤" ë˜ëŠ” "ì—†ë‹¤")
```

---

## ğŸ¯ íŒíŠ¸ ì„¹ì…˜ ì˜ˆì‹œ

```markdown
## íŒíŠ¸

### í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬
- pandas, numpy
- scipy.stats: shapiro, f_oneway, kruskal
- statsmodels.stats.multicomp: pairwise_tukeyhsd

### ì£¼ìš” í•¨ìˆ˜
1. ê·¸ë£¹ ë¶„ë¦¬: `df[df['ê·¸ë£¹'] == 'ê·¸ë£¹A']['ê°’']`
2. ì •ê·œì„± ê²€ì •: `shapiro(ë°ì´í„°)` â†’ p > 0.05ë©´ ì •ê·œë¶„í¬
3. ANOVA: `f_oneway(ê·¸ë£¹A, ê·¸ë£¹B, ê·¸ë£¹C)`
4. Kruskal-Wallis: `kruskal(ê·¸ë£¹A, ê·¸ë£¹B, ê·¸ë£¹C)`
5. TukeyHSD: `pairwise_tukeyhsd(df['ê°’'], df['ê·¸ë£¹'], alpha=0.05)`
6. DataFrame ë³€í™˜: `pd.DataFrame(data=tukey.summary().data[1:], columns=tukey.summary().data[0])`

### í”í•œ ì‹¤ìˆ˜
âŒ ê·¸ë£¹ë‹¹ ìƒ˜í”Œ ìˆ˜ê°€ 10ê°œ ë¯¸ë§Œ
âŒ ì •ê·œì„± ë¶ˆë§Œì¡±ì¸ë° ANOVA ì‚¬ìš©
âŒ TukeyHSDì— raw data ëŒ€ì‹  ê·¸ë£¹ë³„ ë°ì´í„° ì…ë ¥
âŒ TukeyHSD ê²°ê³¼ì—ì„œ reject ì—´ í™•ì¸ ì•ˆ í•¨
```

---

## ğŸ’» ì •ë‹µ ì½”ë“œ ì˜ˆì‹œ

**âš ï¸ print ë¬¸ ìµœì†Œí™” - ìš”êµ¬ì‚¬í•­ë§Œ ì¶œë ¥**

```python
import pandas as pd
import numpy as np
from scipy.stats import shapiro, f_oneway, kruskal
from statsmodels.stats.multicomp import pairwise_tukeyhsd

# ë°ì´í„° ìƒì„±
df = pd.DataFrame({
    'ì§ì›ID': [f'E{i:03d}' for i in range(1, 40)],
    'ë¶€ì„œ': ['ì˜ì—…']*13 + ['ê¸°íš']*13 + ['ê°œë°œ']*13,
    'ì›”ê¸‰ì—¬': [285, 310, 295, 320, 300, 315, 290, 305, 325, 295, 310, 300, 315,
               310, 335, 320, 345, 325, 340, 315, 330, 350, 320, 335, 325, 340,
               330, 355, 340, 365, 345, 360, 335, 350, 370, 340, 355, 345, 360]
})

# ê·¸ë£¹ ë¶„ë¦¬
ì˜ì—… = df[df['ë¶€ì„œ'] == 'ì˜ì—…']['ì›”ê¸‰ì—¬']
ê¸°íš = df[df['ë¶€ì„œ'] == 'ê¸°íš']['ì›”ê¸‰ì—¬']
ê°œë°œ = df[df['ë¶€ì„œ'] == 'ê°œë°œ']['ì›”ê¸‰ì—¬']

# Q1-Q2: ê¸°ìˆ í†µê³„
print(round(ì˜ì—….mean(), 2))
print(round(ê¸°íš.std(), 2))

# Q3-Q5: ì •ê·œì„± ê²€ì •
_, p_ì˜ì—… = shapiro(ì˜ì—…)
_, p_ê¸°íš = shapiro(ê¸°íš)
_, p_ê°œë°œ = shapiro(ê°œë°œ)
print(round(p_ì˜ì—…, 4))
print(round(p_ê¸°íš, 4))
print(round(p_ê°œë°œ, 4))

# Q6-Q7: ì¼ì›ë¶„ì‚°ë¶„ì„
if all([p_ì˜ì—… > 0.05, p_ê¸°íš > 0.05, p_ê°œë°œ > 0.05]):
    stat, pval = f_oneway(ì˜ì—…, ê¸°íš, ê°œë°œ)
else:
    stat, pval = kruskal(ì˜ì—…, ê¸°íš, ê°œë°œ)

print(round(stat, 3))
print(round(pval, 4))

# Q8: TukeyHSD ì‚¬í›„ê²€ì • (ì •ê·œì„± ë§Œì¡± ì‹œë§Œ)
if all([p_ì˜ì—… > 0.05, p_ê¸°íš > 0.05, p_ê°œë°œ > 0.05]):
    tukey = pairwise_tukeyhsd(df['ì›”ê¸‰ì—¬'], df['ë¶€ì„œ'], alpha=0.05)
    tukey_df = pd.DataFrame(
        data=tukey.summary().data[1:],
        columns=tukey.summary().data[0]
    )

    # 'ì˜ì—…'-'ê¸°íš' ìŒ ì°¾ê¸°
    pair = tukey_df[
        ((tukey_df['group1'] == 'ì˜ì—…') & (tukey_df['group2'] == 'ê¸°íš')) |
        ((tukey_df['group1'] == 'ê¸°íš') & (tukey_df['group2'] == 'ì˜ì—…'))
    ]

    print("ìˆë‹¤" if pair['reject'].values[0] else "ì—†ë‹¤")
```

---

## âœ… ìƒì„± ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] "## â“ ì§ˆë¬¸" í—¤ë” (ì´ëª¨ì§€ í¬í•¨)
- [ ] Q1. Q2. Q3. í˜•ì‹ ì‚¬ìš© (**1)**, **2)** ì•„ë‹˜)
- [ ] ê° ì§ˆë¬¸ì— (ì¶œë ¥: ...) ëª…ì‹œ
- [ ] 3ê°œ ì´ìƒ ê·¸ë£¹
- [ ] ê° ê·¸ë£¹ 10-15ê°œ ìƒ˜í”Œ
- [ ] ë³€ìˆ˜ëª… í•œêµ­ì–´
- [ ] ë¦¬í„°ëŸ´ ê°’ (np.random ì—†ìŒ)
- [ ] TukeyHSD DataFrame ë³€í™˜ ì½”ë“œ í¬í•¨
- [ ] print ë¬¸ ìµœì†Œí™”
