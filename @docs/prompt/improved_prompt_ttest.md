# 빅데이터분석기사 작업형 3유형 - t검정 문제 생성 프롬프트

## 🚨🚨🚨 [최우선] 질문 형식 - 반드시 이 형식을 따르세요! 🚨🚨🚨

**생성할 문제의 질문 섹션은 반드시 다음 형식이어야 합니다:**

```
## ❓ 질문

Q1. [첫 번째 구체적인 질문] (출력: 소수점 X자리)
Q2. [두 번째 구체적인 질문] (출력: 소수점 X자리)
Q3. [세 번째 구체적인 질문] (출력: 소수점 X자리)
Q4. [네 번째 구체적인 질문] (출력: 예/아니오)
```

**⛔ 절대 금지:**
- ❌ **1)**, **2)**, **3)** 형식 사용 금지
- ❌ "## 질문" (이모지 없이) 사용 금지 → 반드시 "## ❓ 질문"
- ❌ "검정하시오", "분석하시오" 같은 모호한 표현
- ❌ 출력 형식 명시 없이 질문만 작성

**✅ 반드시 포함:**
- ✅ "## ❓ 질문" 헤더 (이모지 포함)
- ✅ Q1. Q2. Q3. Q4. Q5. 형식 (최소 3개, 최대 7개)
- ✅ 각 질문 끝에 (출력: 소수점 X자리) 형식 명시
- ✅ 한 줄에 하나의 질문

---

## 📋 문제 구조 (순서 엄수)

모든 문제는 정확히 이 순서를 따라야 합니다:

```
# [제목]

## 시나리오
[2-3문장의 현실적인 상황]

## 데이터 생성 코드
```python
[30-40행의 완전한 리터럴 데이터]
```

## ❓ 질문

Q1. [질문] (출력: 소수점 X자리)
Q2. [질문] (출력: 소수점 X자리)
Q3. [질문] (출력: 예/아니오)
...

## 힌트
[라이브러리, 함수, 주의사항]

## 정답 코드
```python
[완전한 Python 코드]
```
```

---

## ⚙️ 데이터 생성 규칙

### 필수 조건
- ✅ 30-40행 (각 그룹 최소 15개)
- ✅ pandas DataFrame으로만 생성
- ✅ **완전한 리터럴 값** (np.random 사용 절대 금지)
- ✅ 변수명은 **무조건 한국어**
- ❌ CSV 파일 생성 금지
- ❌ 외부 파일 읽기 금지

### 올바른 예시
```python
import pandas as pd

df = pd.DataFrame({
    '학생ID': [f'S{i:02d}' for i in range(1, 41)],
    '학습방법': ['온라인']*20 + ['오프라인']*20,
    '시험성적': [72, 85, 68, 91, 77, 83, 69, 88, 74, 90,
                 65, 82, 71, 87, 79, 84, 67, 89, 76, 81,
                 78, 92, 85, 88, 91, 76, 83, 95, 87, 79,
                 84, 90, 77, 93, 86, 81, 88, 75, 82, 94]
})
```

---

## 📊 t검정 3가지 유형

### 유형 1: 독립표본 t검정 (ttest_ind)

**언제:** 두 독립된 그룹 비교 (A반 vs B반, 남성 vs 여성)

**사전검정:**
1. 정규성 검정 (각 그룹) → Shapiro-Wilk
2. 등분산성 검정 → Levene

**검정 선택:**
```
정규성 O + 등분산 O → ttest_ind(equal_var=True)
정규성 O + 등분산 X → ttest_ind(equal_var=False)
정규성 X → mannwhitneyu()
```

**질문 예시:**
```
Q1. '온라인' 그룹의 평균을 소수점 2자리까지 구하시오. (출력: 소수점 2자리)
Q2. '오프라인' 그룹의 표준편차를 소수점 2자리까지 구하시오. (출력: 소수점 2자리)
Q3. 독립표본 t검정을 수행하고 검정통계량을 구하시오. (출력: 소수점 3자리)
Q4. 독립표본 t검정의 p-value를 구하시오. (출력: 소수점 4자리)
Q5. 유의수준 0.05에서 두 그룹 간 유의한 차이가 있는지 판단하시오. (출력: "있다" 또는 "없다")
```

**참고:** 정규성 검정(Shapiro-Wilk)과 등분산성 검정(Levene)은 별도 노드에서 다루므로, t검정 문제에서는 제외합니다.

---

### 유형 2: 대응표본 t검정 (ttest_rel)

**언제:** 동일 대상의 전/후 비교 (약물 투여 전/후, 교육 전/후)

**사전검정:**
1. 정규성 검정 (사전/사후 각각 또는 차이값)

**검정 선택:**
```
정규성 O → ttest_rel()
정규성 X → wilcoxon()
```

**질문 예시:**
```
Q1. 사전측정 평균을 소수점 2자리까지 구하시오. (출력: 소수점 2자리)
Q2. 사후측정 평균을 소수점 2자리까지 구하시오. (출력: 소수점 2자리)
Q3. 대응표본 t검정을 수행하고 검정통계량을 구하시오. (출력: 소수점 3자리)
Q4. 대응표본 t검정의 p-value를 구하시오. (출력: 소수점 4자리)
Q5. 유의수준 0.05에서 사전과 사후 간 유의한 차이가 있는지 판단하시오. (출력: "있다" 또는 "없다")
```

**참고:** 정규성 검정(Shapiro-Wilk)은 별도 노드에서 다루므로, t검정 문제에서는 제외합니다.

---

### 유형 3: 단일표본 t검정 (ttest_1samp)

**언제:** 한 그룹의 평균을 특정 기준값과 비교 (제품 무게 vs 표시 무게)

**사전검정:**
1. 정규성 검정

**검정 선택:**
```
정규성 O → ttest_1samp(데이터, 기준값)
정규성 X → wilcoxon(차이값)
```

**질문 예시:**
```
Q1. 측정값의 평균을 소수점 2자리까지 구하시오. (출력: 소수점 2자리)
Q2. 측정값의 표준편차를 소수점 2자리까지 구하시오. (출력: 소수점 2자리)
Q3. 기준값 100과 비교하는 단일표본 t검정 통계량을 구하시오. (출력: 소수점 3자리)
Q4. 단일표본 t검정의 p-value를 구하시오. (출력: 소수점 4자리)
Q5. 유의수준 0.05에서 평균이 기준값과 다른지 판단하시오. (출력: "다르다" 또는 "같다")
```

**참고:** 정규성 검정(Shapiro-Wilk)은 별도 노드에서 다루므로, t검정 문제에서는 제외합니다.

---

## 💡 힌트 섹션 작성 예시

```markdown
## 힌트

### 필요한 라이브러리
- pandas, numpy
- scipy.stats: ttest_ind, ttest_rel, ttest_1samp

### 주요 함수
1. 그룹 분리: `df[df['그룹'] == '그룹A']['값']`
2. 기술통계: `.mean()`, `.std()`
3. 독립표본 t검정: `ttest_ind(그룹1, 그룹2, equal_var=True)`
4. 대응표본 t검정: `ttest_rel(사전, 사후)`
5. 단일표본 t검정: `ttest_1samp(데이터, 기준값)`

### 흔한 실수
❌ equal_var 파라미터 누락 (독립표본 t검정)
❌ p < 0.05 해석 오류 (p < 0.05면 차이 있음)
❌ 대응표본인데 독립표본 t검정 사용

**참고:** 정규성 검정(Shapiro-Wilk)과 등분산성 검정(Levene)은 별도 노드에서 다루므로 제외합니다.
```

---

## 🎯 정답 코드 작성 규칙

**⚠️ 중요: print 문 최소화**
- 문제에서 요구한 출력만 print
- 중간 과정은 주석으로 작성
- 구분선, 제목 등 불필요한 print 제거

### 올바른 정답 코드 구조

```python
import pandas as pd
from scipy.stats import ttest_ind

# 데이터 생성
df = pd.DataFrame({
    '학생ID': [f'S{i:02d}' for i in range(1, 41)],
    '학습방법': ['온라인']*20 + ['오프라인']*20,
    '시험성적': [72, 85, 68, 91, 77, 83, 69, 88, 74, 90,
                 65, 82, 71, 87, 79, 84, 67, 89, 76, 81,
                 78, 92, 85, 88, 91, 76, 83, 95, 87, 79,
                 84, 90, 77, 93, 86, 81, 88, 75, 82, 94]
})

# 그룹 분리
온라인 = df[df['학습방법'] == '온라인']['시험성적']
오프라인 = df[df['학습방법'] == '오프라인']['시험성적']

# Q1: 온라인 평균
print(round(온라인.mean(), 2))

# Q2: 오프라인 표준편차
print(round(오프라인.std(), 2))

# Q3-Q4: 독립표본 t검정
stat, pval = ttest_ind(온라인, 오프라인, equal_var=True)
print(round(stat, 3))
print(round(pval, 4))

# Q5: 결론
print("있다" if pval < 0.05 else "없다")
```

**참고:** 정규성 검정과 등분산성 검정은 생략하고 t검정만 수행합니다. 실제 시험에서는 정규성이 만족된다고 가정하고 풀이합니다.

---

## ✅ 생성 체크리스트

문제 생성 후 반드시 확인:

- [ ] "## ❓ 질문" 헤더 포함 (이모지 있음)
- [ ] Q1. Q2. Q3. 형식 사용 (**1)**, **2)** 형식 아님)
- [ ] 각 질문에 (출력: ...) 명시
- [ ] 데이터 30-40행
- [ ] 변수명 모두 한국어
- [ ] 리터럴 값 (np.random 없음)
- [ ] 힌트 섹션 포함
- [ ] 정답 코드 완전함
- [ ] print 문 최소화 (요구사항만 출력)
